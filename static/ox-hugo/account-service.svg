<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="212px" preserveAspectRatio="none" style="width:463px;height:212px;background:#00000000;" version="1.1" viewBox="0 0 463 212" width="463px" zoomAndPan="magnify"><defs><filter height="300%" id="fwl6oiwqk4lzb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[53c55ef4eafbacd9d333114b2d9aefae]
class AccountService--><rect codeLine="3" fill="#FEFECE" filter="url(#fwl6oiwqk4lzb)" height="63.0229" id="AccountService" style="stroke:#A80036;stroke-width:1.5;" width="285" x="7" y="120.5"/><ellipse cx="103.75" cy="136.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M103.0938,142.3594 Q101.1094,142.3594 99.9375,140.8906 Q98.7813,139.4063 98.7813,136.3281 Q98.7813,133.7188 100,131.9688 Q101.2344,130.2188 103.3594,130.2188 Q103.8594,130.2188 104.3906,130.3594 Q104.8281,130.5469 105.0938,130.5469 Q105.3125,130.5469 105.4063,130.5 Q105.5156,130.4531 105.9688,129.8594 L106.7344,133.5938 L105.8438,133.8594 Q105.3906,132.4063 104.7813,131.8125 Q104.1875,131.2031 103.2344,131.2031 Q102.0156,131.2031 101.2969,132.6406 Q100.5781,134.0625 100.5781,136.25 Q100.5781,138.6563 101.1875,139.9531 Q101.8125,141.2344 103.1719,141.2344 Q104.125,141.2344 104.8125,140.5469 Q105.5,139.8438 105.8281,138.3438 L106.7344,138.75 Q106.3281,140.4531 105.3594,141.4063 Q104.4063,142.3594 103.0938,142.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="124.25" y="142.0576">AccountService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="291" y1="152.5" y2="152.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="291" y1="160.5" y2="160.5"/><ellipse cx="18" cy="171.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="259" x="27" y="177.106">transfer(tx: Transaction, vararg operations: () -&gt; Unit)</text><!--MD5=[4555bb1b0911a5adf28ce6dbe60fed2e]
class Transaction--><rect codeLine="6" fill="#FEFECE" filter="url(#fwl6oiwqk4lzb)" height="93.0688" id="Transaction" style="stroke:#A80036;stroke-width:1.5;" width="97" x="352" y="105.5"/><ellipse cx="367" cy="121.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M366.3438,127.3594 Q364.3594,127.3594 363.1875,125.8906 Q362.0313,124.4063 362.0313,121.3281 Q362.0313,118.7188 363.25,116.9688 Q364.4844,115.2188 366.6094,115.2188 Q367.1094,115.2188 367.6406,115.3594 Q368.0781,115.5469 368.3438,115.5469 Q368.5625,115.5469 368.6563,115.5 Q368.7656,115.4531 369.2188,114.8594 L369.9844,118.5938 L369.0938,118.8594 Q368.6406,117.4063 368.0313,116.8125 Q367.4375,116.2031 366.4844,116.2031 Q365.2656,116.2031 364.5469,117.6406 Q363.8281,119.0625 363.8281,121.25 Q363.8281,123.6563 364.4375,124.9531 Q365.0625,126.2344 366.4219,126.2344 Q367.375,126.2344 368.0625,125.5469 Q368.75,124.8438 369.0781,123.3438 L369.9844,123.75 Q369.5781,125.4531 368.6094,126.4063 Q367.6563,127.3594 366.3438,127.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="65" x="381" y="127.0576">Transaction</text><line style="stroke:#A80036;stroke-width:1.5;" x1="353" x2="448" y1="137.5" y2="137.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="353" x2="448" y1="145.5" y2="145.5"/><ellipse cx="363" cy="156.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="372" y="162.106">start()</text><ellipse cx="363" cy="171.5229" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="372" y="177.1289">commit()</text><ellipse cx="363" cy="186.5459" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="45" x="372" y="192.1519">rollback()</text><!--MD5=[584268cef95738c25d8c0c1d001e3c1b]
class AccountRepo--><rect codeLine="11" fill="#FEFECE" filter="url(#fwl6oiwqk4lzb)" height="78.0459" id="AccountRepo" style="stroke:#A80036;stroke-width:1.5;" width="227" x="36" y="7"/><ellipse cx="108.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M108.0938,28.8594 Q106.1094,28.8594 104.9375,27.3906 Q103.7813,25.9063 103.7813,22.8281 Q103.7813,20.2188 105,18.4688 Q106.2344,16.7188 108.3594,16.7188 Q108.8594,16.7188 109.3906,16.8594 Q109.8281,17.0469 110.0938,17.0469 Q110.3125,17.0469 110.4063,17 Q110.5156,16.9531 110.9688,16.3594 L111.7344,20.0938 L110.8438,20.3594 Q110.3906,18.9063 109.7813,18.3125 Q109.1875,17.7031 108.2344,17.7031 Q107.0156,17.7031 106.2969,19.1406 Q105.5781,20.5625 105.5781,22.75 Q105.5781,25.1563 106.1875,26.4531 Q106.8125,27.7344 108.1719,27.7344 Q109.125,27.7344 109.8125,27.0469 Q110.5,26.3438 110.8281,24.8438 L111.7344,25.25 Q111.3281,26.9531 110.3594,27.9063 Q109.4063,28.8594 108.0938,28.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="73" x="129.25" y="28.5576">AccountRepo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="37" x2="262" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="37" x2="262" y1="47" y2="47"/><ellipse cx="47" cy="58" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="201" x="56" y="63.606">credit(account: Account, amount: Double)</text><ellipse cx="47" cy="73.0229" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="56" y="78.6289">debit(account: Account, amount: Double)</text><!--MD5=[f9a29335b499db729be669fd1bd54958]
class Account--><rect codeLine="15" fill="#FEFECE" filter="url(#fwl6oiwqk4lzb)" height="48" id="Account" style="stroke:#A80036;stroke-width:1.5;" width="75" x="363" y="22"/><ellipse cx="378" cy="38" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M377.3438,43.8594 Q375.3594,43.8594 374.1875,42.3906 Q373.0313,40.9063 373.0313,37.8281 Q373.0313,35.2188 374.25,33.4688 Q375.4844,31.7188 377.6094,31.7188 Q378.1094,31.7188 378.6406,31.8594 Q379.0781,32.0469 379.3438,32.0469 Q379.5625,32.0469 379.6563,32 Q379.7656,31.9531 380.2188,31.3594 L380.9844,35.0938 L380.0938,35.3594 Q379.6406,33.9063 379.0313,33.3125 Q378.4375,32.7031 377.4844,32.7031 Q376.2656,32.7031 375.5469,34.1406 Q374.8281,35.5625 374.8281,37.75 Q374.8281,40.1563 375.4375,41.4531 Q376.0625,42.7344 377.4219,42.7344 Q378.375,42.7344 379.0625,42.0469 Q379.75,41.3438 380.0781,39.8438 L380.9844,40.25 Q380.5781,41.9531 379.6094,42.9063 Q378.6563,43.8594 377.3438,43.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="43" x="392" y="43.5576">Account</text><line style="stroke:#A80036;stroke-width:1.5;" x1="364" x2="437" y1="54" y2="54"/><line style="stroke:#A80036;stroke-width:1.5;" x1="364" x2="437" y1="62" y2="62"/><!--MD5=[6f48efa4b15617fbc3de24815822e601]
link AccountService to Transaction--><path codeLine="16" d="M292.09,152 C311.38,152 330.1,152 346.37,152 " fill="none" id="AccountService-to-Transaction" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="351.79,152,342.79,148,346.79,152,342.79,156,351.79,152" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8084a94aa3fc58acd44f55b1fe9a9bdc]
link AccountRepo to Account--><path codeLine="17" d="M263.34,46 C297,46 331.8,46 357.8,46 " fill="none" id="AccountRepo-to-Account" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="362.88,46,353.88,42,357.88,46,353.88,50,362.88,46" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2c06839822520220173a71392d15eb42]
@startuml
skinparam backgroundcolor transparent
left to right direction
class AccountService {
    +transfer(tx: Transaction, vararg operations: () -> Unit)
}
class Transaction {
    +start()
    +commit()
    +rollback()
}
class AccountRepo {
    +credit(account: Account, amount: Double)
    +debit(account: Account, amount: Double)
}
class Account
AccountService ..> Transaction
AccountRepo ..> Account
@enduml

PlantUML version 1.2022.0(Wed Jan 12 00:16:42 CST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: en
Country: US
--></g></svg>